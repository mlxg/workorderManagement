<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<input type="text" value="" name="carNo" v-model="carNo"/>
<input type="text" value="" name="workOrderNo" v-model="workOrderNo"/>
<input id="orderCheck" type="button" value="查询"/>
<input id="resetData" type="button" value="重置"/>

<table id="rsData">
    <thead>
    <tr>
        <th v-for="key in columns">{{key}}</th>
    </tr>
    </thead>
    <tbody>
    <tr v-for="item in items">
        <td>{{item.carNo}}</td>
        <td>{{item.workOrderNo}}</td>
    </tr>
    </tbody>
</table>

<script src="./js/jquery.1.8.3.min.js"></script>
<script src="./js/vue.js"></script>
<script>

    var $path = 'http://localhost:8888/a';



    $(function () {

        $(document).on('click', '#orderCheck', function () {
//        $('#orderCheck').click(function () {
            searchData();
        });

        $(document).on('click', '#resetData', function () {
//        $('#resetData').click(function () {

            getData();
        });
    });

    function searchData() {

        var carNo = $('input[name=carNo]').val();
        var workOrderNo = $('input[name=workOrderNo]').val();

        //  查询条件
        var uData = {
            'carNo': carNo,
            'workOrderNo': workOrderNo
        };

        //  getData
        $.ajax({
            contentType: 'application/json',
            url: $path + '/kefu/workOrder/list',
            async: true,
            type: 'post',
            data: JSON.stringify(uData),
            success: function (data) {
                var obj = data.model.list;
                new Vue({
                    el: '#rsData',
                    data: {
                        items: obj
                    }
                });
            }
        });
    }

    function getData() {
        $.ajax({
            contentType: 'application/json',
            url: $path + '/kefu/workOrder/list',
            async: true,
            type: 'post',
            data: JSON.stringify(uData),
            success: function (data) {

            }
        });
    }

    new Vue({
        el: '#rsData',
        data: {
            items: data.model.list,
            columns:['车辆编号', '工单编号']
        }
    });
</script>
</body>
</html>